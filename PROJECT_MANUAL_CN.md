# 电动牙刷分析系统 (Toothbrush Analyzer) - 项目手册

## 1. 项目简介
**电动牙刷分析系统**是一个全栈 Web 应用程序，旨在帮助用户高效地搜索、比较和分析市场上的电动牙刷产品。系统基于 **React** 前端和 **Spring Boot** 后端构建，集成了多种高级算法（如 Trie、Boyer-Moore、编辑距离等），提供智能搜索补全、拼写纠错、多维度排序和实时数据分析功能。

---

## 2. 功能特性

### 2.1 智能搜索引擎
*   **关键词搜索**: 支持输入单个或多个关键词（如 "Oral-B Pro"）进行精准搜索。
*   **自动补全 (Autocomplete)**: 当用户输入时，系统实时推荐可能的搜索词。
*   **拼写纠错 (Spell Check)**: 如果用户输入了错误的单词（如 "waterprof"），系统会自动检测并提供 "Did you mean: waterproof" 的建议。
*   **多词逻辑**: 支持 "AND" 逻辑搜索，即搜索结果必须包含所有输入的关键词。

### 2.2 高级排序与筛选
*   **多条件排序**: 支持同时启用多个排序条件（价格、电池续航、防水等级）。
    *   **排序逻辑**: 采用 **"先点击优先" (First-Click Priority)** 策略。您最先点击的选项将作为主排序条件，后续点击的作为次要排序条件。
    *   **示例**: 依次点击 **[价格] -> [电池]**，列表将优先按**价格**排序，价格相同时按**电池续航**排序。
*   **品牌筛选**: 可通过下拉菜单选择一个或多个品牌进行过滤。
*   **类型筛选**: 支持按牙刷类型（如 Sonic, Oscillating 等）进行筛选。

### 2.3 数据分析与展示
*   **热门搜索 (Top Searches)**: 侧边栏实时显示用户搜索频率最高的 10 个关键词。
*   **产品详情**: 卡片式展示产品图片、名称、品牌、价格、评分、电池续航和防水等级。

### 2.4 用户系统
*   **注册与登录**: 提供用户注册和登录功能，保障个性化体验。
*   **密码安全**: 登录/注册界面支持密码显示/隐藏切换，提升用户体验。

---

## 3. 技术架构与算法

### 3.1 技术栈
*   **前端**: React.js, Axios, CSS3
*   **后端**: Java Spring Boot 3.x
*   **构建工具**: Maven (后端), npm (前端)
*   **数据源**: CSV 文件 (`all_toothbrushes.csv`)

### 3.2 核心算法应用
本项目不仅仅是一个 CRUD 应用，还深入使用了多种数据结构与算法来优化性能和体验：

| 功能模块 | 使用算法/数据结构 | 作用 |
| :--- | :--- | :--- |
| **自动补全** | **Trie (字典树)** | 实现 O(L) 复杂度的前缀查找，快速响应用户输入。 |
| **拼写纠错** | **编辑距离 (Edit Distance)** | 计算输入词与词库词汇的相似度，找出最佳纠错建议。 |
| **相关性排序** | **Boyer-Moore** | 高效统计关键词在产品描述中的出现频率，用于搜索结果排名。 |
| **倒排索引** | **Trie (增强版)** | 建立单词到产品的映射，实现 O(1) 的文档检索。 |
| **热门搜索** | **红黑树 (TreeMap)** | 维护搜索词频率的有序集合，快速获取 Top 10。 |
| **多重排序** | **TimSort (Java Built-in)** | 稳定且高效的排序算法，用于处理多条件组合排序。 |

---

## 4. 环境要求与安装指南

### 4.1 环境要求
*   **Java**: JDK 17 或更高版本
*   **Node.js**: v14 或更高版本
*   **Maven**: 3.6 或更高版本

### 4.2 安装与运行

#### 第一步：启动后端
1.  打开终端，进入 `backend` 目录：
    ```bash
    cd backend
    ```
2.  使用 Maven 运行 Spring Boot 应用：
    ```bash
    mvn spring-boot:run
    ```
3.  后端服务将在 `http://localhost:8080` 启动。

#### 第二步：启动前端
1.  打开新的终端窗口，进入 `frontend` 目录：
    ```bash
    cd frontend
    ```
2.  安装依赖包：
    ```bash
    npm install
    ```
3.  启动 React 开发服务器：
    ```bash
    npm start
    ```
4.  浏览器将自动打开 `http://localhost:3000`。

---

## 5. 使用指南

### 5.1 如何进行多条件排序
1.  在产品列表上方，您会看到 **Price (价格)**, **Battery (电池)**, **Waterproof (防水)** 三个排序按钮。
2.  **点击顺序决定优先级**：
    *   如果您希望主要按**价格**排序，请**首先**点击 "Price"。
    *   如果您希望在价格相同的情况下，按**防水等级**排序，请**接着**点击 "Waterproof"。
    *   此时，排序逻辑为：`Primary: Price, Secondary: Waterproof`。
3.  再次点击已激活的按钮可以切换 **升序 (↑)** 或 **降序 (↓)**。
4.  第三次点击将取消该条件的排序。

### 5.2 如何使用搜索与纠错
1.  在搜索框输入关键词，例如 "philips"。
2.  系统会自动弹出补全建议，点击即可搜索。
3.  如果您不小心输错，例如 "philps"，系统会在结果页上方提示 "Did you mean: philips"，点击建议词即可重新搜索。

### 5.3 账号操作
1.  点击右上角的 "Login / Register" 按钮。
2.  如果是新用户，点击底部的 "Register" 切换到注册模式。
3.  输入姓名、邮箱和密码（密码需包含大小写字母和数字）。
4.  注册成功后进行登录。

---
